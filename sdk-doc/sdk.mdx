---
title: 网关相关协议
description: "网关相关协议"
---

---
title: 心跳请求
---

```
message HeartbeatReq {
    //HeartbeatReqCmdId  = 0x10001001;
    int64 pingId = 1; //Ping的id
    int64 disconnectDelay = 2; //超时时间（如果下一次的ping间隔大于这个，服务端就可以断连）
}

message HeartbeatResp {
    //HeartbeatRespCmdId = 0x10008001;
    int32 errorCode = 1;
    string errorMessage = 2;
    int64 pingId = 3; //ping的ack
}
```

## 握手请求
```
message HandshakeReq {
    //HandshakeReqCmdId  = 0x10001003;
  string pubKey = 1; //公钥
  int64 timestamp = 2; //时间戳
  int32 pubkeyIndex = 3; //公钥索引
  string sign = 4; //签名
}

message HandshakeResp {
    //HandshakeRespCmdId = 0x10008003;
    int32 errorCode = 1;
    string errorMessage = 2;
  string pubKey = 3; //公钥
  string nonce = 4; //随机值
  string sign = 5; //签名
}
```

[Rest of file content remains unchanged...]